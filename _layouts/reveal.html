<!doctype html>
<html lang="{{ site.locale | default: 'en' | slice: 0, 2 }}" class="no-js">
<head>
  {% include head.html %}
  {% include head/custom.html %}

  <link rel="stylesheet" href="{{ site.baseurl }}/assets/reveal/reveal.css">
  <link rel="stylesheet" href="{{ site.baseurl }}/assets/reveal/theme/black.css" id="theme">

  <style>
    /* Keep headings as written (no automatic uppercase) */
    .reveal h1, .reveal h2, .reveal h3, .reveal h4, .reveal h5 { text-transform: none; }
  </style>
</head>

<body class="layout--{{ page.layout | default: layout.layout }}{% if page.classes or layout.classes %}{{ page.classes | default: layout.classes | join: ' ' | prepend: ' ' }}{% endif %}">
  {% include_cached browser-upgrade.html %}

  <div class="reveal">
    <div class="slides">
      <section
        data-markdown
        data-separator="^\n\n\n"
        data-separator-vertical="^\n\n"
        data-separator-notes="^Note:">
        <textarea data-template>
{{ content }}
        </textarea>
      </section>
    </div>
  </div>

  <!-- Hidden template: custom “Links” panel content -->
  <template id="reveal-links-template">
    {% include reveallinks.html %}
  </template>

  <!-- ESM setup -->
  <script type="module">
    import Reveal   from "{{ site.baseurl }}/assets/reveal/reveal.esm.js";
    import Markdown from "{{ site.baseurl }}/assets/reveal/plugin/markdown/markdown.esm.js";
    import Menu     from "{{ site.baseurl }}/assets/reveal/plugin/menu/menu.esm.js";
    import Notes    from "{{ site.baseurl }}/assets/reveal/plugin/notes/notes.esm.js";

    const revealLinks = (document.getElementById('reveal-links-template') || {}).innerHTML || '';

    const deck = new Reveal({
      plugins: [ Markdown, Menu, Notes ],

      /* Match your previous sizing/behavior (adjust as you like) */
      width: 1300, height: 760, margin: 0.05, center: false,
      minScale: 0.2, maxScale: 1.0,
      history: true,

      menu: {
        custom: [
          {
            title: 'Links',
            icon: '<i class="fa fa-link"></i>',
            content: revealLinks
          }
        ]
      }
    });

    deck.initialize();
  </script>

  {% include scripts.html %}
</body>
</html>